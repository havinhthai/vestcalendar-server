"undefined"!=typeof Dropzone&&(Dropzone.autoDiscover=!1);const handleAjaxError=(e,t)=>{400===e&&console.log("URL Not Found"),403===e&&Swal.fire({title:"Forbidden!",text:"You don't have permission",type:"error"}),500===e&&(Swal.fire({title:"Failed!",text:"Something went wrong",type:"error"}),console.log(JSON.parse(t)))},queryParamsToObj=()=>{if(!location.search)return;const e=location.search.substring(1);return JSON.parse('{"'+e.replace(/&/g,'","').replace(/=/g,'":"')+'"}',function(e,t){return""===e?t:decodeURIComponent(t)})},configColorPicker=()=>{void 0!==$.fn.colorpicker&&($(".input-colorpicker").colorpicker(),$(".input-colorpicker").on("colorpickerChange",function(e){$(this).find(".fa-square").css("color",e.color.toString())}))},configSelect2=()=>{if(void 0===$.fn.select2)return;$(".select2").select2(),$(".select2-tags").select2({tags:!0});const e=$(".select2-sizes");if(0===e.length)return;let t=["S","M","L","XL","XXL","3XL","4XL","5XL"];t=t.filter(function(t){return-1==e.val().indexOf(t)}),e.select2({tags:t})},configDropZone=()=>{if("undefined"==typeof Dropzone)return;const e=new Dropzone("#upload",{url:"/admin/media"}),t=$("#image__list--store");t.length>0&&e.on("success",function(e,{payload:n}){t.prepend(`\n        <img\n          src="${n.location}"\n          title="${n.name}"\n          data-id="${n._id}"\n          class="image__item--store">\n      `);const i=$(".image__item--store");i.off("click"),i.click(function(){isMultiImages||i.removeClass("active"),$(this).toggleClass("active"),opener&&opener.CKEDITOR&&(window.opener.CKEDITOR.tools.callFunction(queryParamsToObj().CKEditorFuncNum,$(this).attr("src")),window.close())})});const n=$("#table-body");n.length>0&&e.on("success",function(e,{payload:t}){const i=new Date(t.createdAt);n.prepend(`\n      <tr>\n        <td class="text-center index-count">\n          <span class="badge badge-danger">New</span>\n        </td>\n        <td>\n          <a href="/admin/media/${t._id}">\n            <img src="${t.location}" class="img--manage__box" title="${t.name}">\n          </a>\n        </td>\n        <td>\n          <a href="/admin/media/${t._id}">\n            ${t.name}\n          </a>\n        </td>\n        <td>\n          ${(t.size/1024).toFixed(2)} kB\n        </td>\n        <td>\n          <a href="/admin/media?mimetype=0" class="badge badge-pill badge-secondary">\n            ${t.mimeType}\n          </a>\n        </td>\n        <td>\n          ${i.getDate()}/${i.getMonth()+1}/${i.getFullYear()}\n        </td>\n      </tr>\n    `)})},toggleShowDropzone=()=>{const e=$("#btn-toggle-upload"),t=$("#upload");e.click(function(){t.hasClass("d-none")?t.removeClass("d-none").slideToggle():t.slideToggle()})},configDateTimePicker=()=>{const e=$(".date-time-picker");0!==e.length&&e.datetimepicker({format:"d/m/Y H:i"})},editSlug2=()=>{if(!$("label").hasClass("lb-edit"))return;const e=$(".lb-edit"),t=$("input[name=slug]"),n=$(".slug-ref");let i=!0;e.click(function(){if(i)return t.attr("readonly",!1),void(i=!1);i=!0,t.attr("readonly",!0)}),n.keyup(function(){const e=$(this).val();if(""===e)t.val("");else{const n=Math.random().toString(36).substr(7);t.val(getSlug(e,{lang:"vn"})+"-"+n)}})},btnConfirmLogout=()=>{const e=$(".btn-confirm-logout");if(0===e.length)return;if("undefined"==typeof Swal)return void console.error("Swal not found");const t=e.data("href");e.click(function(){Swal.fire({title:"Are you sure?",type:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",confirmButtonText:"Logout"}).then(e=>{e.value&&(location.href=t)})})},btnReqDelete=()=>{const e=$(".btn-req-delete");0!==e.length&&("undefined"!=typeof Swal?e.click(function(){const e=$(this),t=e.data("is-deleted");Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",confirmButtonText:`Yes, ${t?"restored":"deleted"} it!`}).then(n=>{n.value&&$.ajax({url:e.data("url"),type:"DELETE",dataType:"json",success:function({payload:n}){const i=e.data("type");Swal.fire({title:t?"Restore!":"Deleted!",text:`Your ${i||"post"} has been ${t?"restored":"deleted"}.`,type:"success",onClose:()=>{const i=e.data("href-redirect");if(i)return void setTimeout(function(){location.href=i},200);const a=e.data("parent-id");let o=$("#txt-deleted-at"),s=$(".dynamic-disable"),l=$(".collapse.dynamic-hide");if(a&&(o=$(`#${a} #txt-deleted-at`),s=$(`#${a} .dynamic-disable`),l=$(`#${a} .collapse.dynamic-hide`)),t)o.val(""),s.removeClass("disabled"),s.attr("disabled",!1),e.addClass("btn-danger").removeClass("btn-success").text("Delete"),e.data("is-deleted",!1),e.parent().siblings(".badged-delete-box").empty().append('<span class="badge bg-success">Subscribe</span>');else{const t=new Date(n.deletedAt),i=`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`;o.val(i),s.addClass("disabled"),s.attr("disabled","disabled"),l.collapse("hide"),e.addClass("btn-success").removeClass("btn-danger").text("Restore"),e.data("is-deleted",!0),e.parent().siblings(".badged-delete-box").empty().append(`<span class="badge bg-danger">UnSubscribe</span> - ${i}`)}}})},error:function(e){handleAjaxError(e.status,e.responseText)}})})}):console.error("Swal not found"))},validatePasswordForm=()=>{const e=$(".validatePasswordForm");if(0===e.length)return;const t=e.find(".txtPassword"),n=e.find(".txtConfirmPassword");0!==t.length&&0!==n.length&&e.submit(function(e){if(t.val()!==n.val())return e.preventDefault(),$(".alert-validte-password").remove(),n.parent().append('\n        <span class="alert-validte-password text-danger">\n          Password does not match\n        </span>\n      '),void t.focus()})},headerActive=()=>{$(".nav .nav-link").each(function(){const e=$(this).attr("href");"javascript:void(0)"!==e&&e===location.pathname&&($(this).parent().parent().parent().hasClass("has-treeview")&&($(this).parent().parent().parent().addClass("menu-open"),$(this).parent().parent().siblings().addClass("active")),$(this).addClass("active"))})},$imageItems=$(".image__item--store"),$btnSaveChange=$("#btn-save-change");let $pickedImageInput=$(".picked__image--input"),$pickedImageTag=$(".picked__image--img"),$pickedImageLabel=$(".picked__image--label"),$pickedImages=$(".picked__images"),isMultiImages=!1,pickedImagesInputName="",queryParams={},currentPage=1;const btnSelectImage=()=>{$("body").on("click",".btn-select-image",function(){$(".image__item--store").removeClass("active"),$groupImage=$(this).parents(".form-group-image:first"),isMultiImages=$(this).data("multiple"),pickedImagesInputName=$(this).data("input-name"),isMultiImages?$pickedImages=$groupImage.find(".picked__images"):($pickedImageInput=$groupImage.find(".picked__image--input"),$pickedImageTag=$groupImage.find(".picked__image--img"),$pickedImageLabel=$groupImage.find(".picked__image--label"))})},onSearchImages=()=>{const e=$("#ip__search--image"),t=$("#btn__search--image");e.keypress(function(t){13===t.which&&(queryParams.q=e.val(),currentPage=1,fetchImages({q:e.val(),page:1}))}),t.click(function(){queryParams.q=e.val(),currentPage=1,fetchImages({q:e.val(),page:1})})},onPaginationImages=(e,t)=>{const n=$("#pagination-custom");if(0===n.length)return;n.empty();const i=Math.ceil(e/t);let a=1;for(;a<=i;a+=1){const e=currentPage===a?"active disabled":"";n.append(`\n      <li class="page-item pagination__item-custom ${e}">\n        <a class="page-link" href="javascript:void(0)">${a}</a>\n      </li>\n    `)}$(".pagination__item-custom").click(function(){$(this).hasClass("active")||(currentPage=+$(this).text(),queryParams.page=currentPage,fetchImages(queryParams))})},fetchImages=(e={})=>{const t=$("#image__list--store");if(0===t.length)return;t.empty();const n=t.data("offset");$.get(`/admin/media/api/images?offset=${n}`,e,function({data:e,pagination:i},a){if("success"!==a)return;e.forEach(function(e){t.append(`\n          <img src="${e.location}" title="${e.name}" data-id="${e._id}" class="image__item--store">\n        `)}),onPaginationImages(i.totalItems,n);const o=$(".image__item--store");o.click(function(){isMultiImages||o.removeClass("active"),$(this).toggleClass("active"),opener&&opener.CKEDITOR&&(window.opener.CKEDITOR.tools.callFunction(queryParamsToObj().CKEditorFuncNum,$(this).attr("src")),window.close())})})},btnSaveChange=()=>{$btnSaveChange.click(function(){if(isMultiImages)$(".image__item--store.active").each(function(){const e=$(this).attr("src");$(this).data("id");$pickedImages.append(`<div class="col-md-4 picked__image--group">\n            <a href="#" class="close" />\n            <img src="${e}" class="img-fluid rounded" style="margin-bottom: 15px;border: 1px solid #ccc;">\n            <input type="hidden" name="${pickedImagesInputName}" value="${e}">\n          </div>`)});else{const e=$(".image__item--store.active").attr("src");$pickedImageTag.attr("src",e),$pickedImageLabel.val(e),$pickedImageLabel.attr("title",e),$pickedImageInput.val(e),$pickedImageInput.next(".text-danger").remove()}})},configMultiImages=()=>{$(".picked__images").on("click",".picked__image--group .close",function(e){e.preventDefault();const t=$(this).parents(".picked__images");$(this).parent().remove(),0===t.find(".picked__image--group").length&&t.find(".preview-group").addClass("hide")}),$(".picked__images").on("click",".picked__image--group img",function(){const e=$(this).attr("src");$(this).parents(".picked__images").find(".preview-img").attr("src",e),$(this).parents(".picked__images").find(".preview-group").removeClass("hide")})},validateImage=e=>{let t=!0;return($pickedImageInput=e.find(".picked__image--input")).each(function(){if($(this).data("required")&&""===$(this).val()){t=!1,$(this).next(".text-danger").remove(),$(this).after('<span class="text-danger">Please choose image!</span>');const e=$(this).parents(".collapse:first");return 0!==e.length&&e.collapse("show"),$(this).parents(".form-group-image:first").find(".btn-select-image").focus(),!1}}),t},validateForm=()=>{$("#main_form").submit(function(e){if(!validateImage($(this)))return!1})},configCKE=()=>{const e=$("#editor");if(!window.CKEDITOR||!e.length)return;CKEDITOR.replace("editor",{language:"vn",height:500,filebrowserImageBrowseUrl:"/admin/media/browser/images"});const t=e.closest("form"),n=CKEDITOR.instances.editor;n.on("key",function(e){$("#editor-alert-content").remove()}),t.submit(function(t){if(e.data("required")){if(!n.getData().replace(/<[^>]*>/gi,"").length){n.focus(),0===$("#editor-alert-content").length&&e.after('<span class="text-danger" id="editor-alert-content"><br />Content is required</span>'),t.preventDefault()}}})},alertWhenEditing=()=>{if(0===!$("form").length)return;let e=!1;$('form button[type!="button"]').click(function(){e=!0}),$("input, textarea").on("change keyup paste",function(){$(window).bind("beforeunload",function(){if(!e)return"Are you sure you want to leave?"})})},onChangeShop=()=>{const e=$(".select-shop"),t=$(".select-categories");if(0===e.length||0===t.length)return;let n=[];t.find("option[selected]").each(function(){n.push($(this).val())});const i=$("#product-link-form-group");e.on("change",function(){const e=$(this).val();if(e){$.ajax({url:`/admin/api/shop-categories?shop=${e}`,type:"GET",success:function({payload:e}){t.html("");let i=[];0===n&&(i=e.map(e=>({id:e._id,text:e.name}))),i=e.map(e=>({id:e._id,text:e.name,selected:n.includes(e._id)})),t.select2({data:i}),n=[]},error:function(e){handleAjaxError(e.status,e.responseText)}}),"PHYSICAL"===$(this).find(`option[value=${e}]`).data("type")?(i.hide(),i.find("input").prop("disabled",!0)):(i.show(),i.find("input").prop("disabled",!1))}}),e.trigger("change")},handleCategoryAccordion=()=>{$accordion=$(".categories-accordion"),0!==$accordion.length&&($accordion.sortable({handle:".sortable-handle"}),$accordion.on("blur","input[name=name]",function(){const e=$(this).parents(".card:first").find(".card-title span").first();$(this).val()&&e.text($(this).val())}),$(accordion).on("click","a.dynamic-disable[disabled]",function(){return!1}))},btnAddCategory=()=>{$accordion=$(".categories-accordion"),$btnAddCategory=$(".btn-add-category"),0!==$btnAddCategory.length&&0!==$accordion.length&&$btnAddCategory.click(function(e){e.preventDefault(),$.get("/admin/shop-categories/add",function(e){$accordion.find(".collapse").collapse("hide"),$accordion.append(e),$accordion.sortable({handle:".sortable-handle"});const t=$accordion.find(".card:last"),n=t.find("input[name=name]"),i=t.find(".input-colorpicker");n.focus(),i.colorpicker(),"undefined"!=typeof Swal?t.find(".btn-del-category").click(function(e){e.preventDefault(),Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",confirmButtonText:"Yes, delete it!"}).then(e=>{e.value&&(t.remove(),Swal.fire({title:"Deleted!",text:"Your category has been deleted.",type:"success"}))})}):console.error("Swal not found")})})},onValidateShopForm=()=>{const e=$("#shop-form .btn-submit-shop");0!==e.length&&e.click(function(){$input=$(".categories-accordion input"),$input.each(function(){if($(this).is(":invalid"))return $(this).parents(".collapse:first").collapse("show"),!1})})},onSubmitShopForm=()=>{const e=$("#shop-form");0!==e.length&&e.submit(function(){if(!validateImage($(this)))return!1;$(".categories-accordion .card").each(function(e,t){$(t).find("input, textarea").each(function(){const t=$(this).attr("name");$(this).attr("name",`categories[${e}][${t}]`)})})})},permissionCheckboxShowAll=()=>{const e=$(".checkboxShowNext");0!==e.length&&e.each(function(){const e=$(this).children("input[type='checkbox']"),t=$(this).next().first().children("input[type='checkbox']");e.is(":checked")?t.prop("disabled",!1):t.prop("disabled",!0),e.change(function(){$(this).is(":checked")?t.prop("disabled",!1):t.prop("disabled",!0)})})},handleSearchForm=()=>{const e=$("#search-form");if(0===e.length)return;e.submit(function(){return $(this).find(":input").filter(function(){return!this.value}).removeAttr("name"),!0});const t=e.find("select");0!==t.length&&t.change(function(){e.submit()})},onToggleYearlyCheckbox=()=>{const e=$(".yearly-checkbox");0!==e.length&&e.change(function(){$(this).is(":checked")?($(".year-select").hide(),$(".year-select select").prop("disabled",!0)):($(".year-select").show(),$(".year-select select").prop("disabled",!1))})},onTypeShopChange=()=>{const e=$("#shop-type-select-box");if(0===e.length)return;const t=$("#shop-address-form-group");e.change(function(){"ONLINE"===$(this).val()?(t.hide(),t.find("input").prop("disabled",!0)):(t.show(),t.find("input").prop("disabled",!1))}),e.trigger("change")},onApproveRequestItem=()=>{const e=$("#approve-request-btn");0!==e.length&&e.click(function(e){e.preventDefault(),Swal.fire({title:"Are you sure?",text:"You cannot undo after accepting",type:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",confirmButtonText:"Accept"}).then(e=>{if(e.value){const e=$("#request-id").val();$.ajax({method:"POST",url:`/admin/requests/approve/${e}`,dataType:"json",success:e=>{console.log("response",e),Swal.fire({title:"Accepted",text:`${e.message}`,type:"success"}).then(()=>{window.location.href="/admin/requests"})},error:e=>{Swal.fire({title:"Error",text:`${e.responseJSON.message}`,type:"error"})}})}})})},onRejectRequestItem=()=>{const e=$("#reject-request-btn");0!==e.length&&e.click(function(e){e.preventDefault(),Swal.fire({title:"Are you sure?",text:"You cannot undo after accepting",type:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",confirmButtonText:"Accept"}).then(async e=>{if(e.value){const e=$("#request-id").val();$.ajax({method:"POST",url:`/admin/requests/reject/${e}`,dataType:"json",success:e=>{Swal.fire({title:"Rejected",text:`${e.message}`,type:"success"}).then(()=>{window.location.href="/admin/requests"})},error:e=>{Swal.fire({title:"Error",text:`${e.responseJSON.message}`,type:"error"})}})}})})},onSwitchUnlimitedRarityItem=()=>{if(0===$(".rarity-form").length)return;const e=$("input[name=unlimited]"),t=$("input[name=maxItem]");e.is(":checked")?t.prop("disabled",!0):t.prop("disabled",!1),e.on("change",function(){e.is(":checked")?(t.prop("value",""),t.prop("disabled",!0)):t.prop("disabled",!1)})},onUploadFile=()=>{$("button.btn-select-file").click(function(e){e.preventDefault();const t=$(this),n=$("input.file-input");n.click(),n.change(function(e){$(".notify-file").remove();const i=new FormData;t.addClass("button-loading"),n.prop("disabled",!0);const a=e.target.files;if(i.append("file",a[0]),$fileTypeRequire=$("input.value-file").data("file-type"),$fileTypeRequire&&a[0]&&$fileTypeRequire!==a[0].type)return $(".input-file-group").after('<span class="text-danger notify-file">Invalid File</span>'),t.removeClass("button-loading"),void n.prop("disabled",!1);axios.post("/admin/media",i,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:e})=>{$("input.value-file").val(e.payload.location),$("input.file-input").attr("src",e.payload.location),$(".input-file-group").after('<span class="text-success notify-file">Success</span>'),t.removeClass("button-loading"),n.prop("disabled",!1)}).catch(e=>{t.removeClass("button-loading"),n.prop("disabled",!1),$(".input-file-group").after(`<span class="text-danger notify-file">${e.response.data.payload}</span>`)})})})},configSelectTimezone=()=>{const e=$(".select-timezone");if(0===e.length)return;const t=Intl.DateTimeFormat().resolvedOptions().timeZone;timezones.forEach(n=>{e.append(`<option value="${n.value}" ${n.value===t?"selected":""}>\n      ${n.label}\n    </option>`)});const n=e.data("value");n&&e.val(n).change()},handleTimelinesList=()=>{if(0===$(".timelines-list").length)return;$(".btn-add-timeline").click(function(e){e.preventDefault();const t=$(".timeline-item").length;$(".timelines-list").append((e=>`\n    <div class="card card-default timeline-item mb-4" data-index="${e}">\n      <div class="card-header card-header-item">\n        <span class="btn-delete-timeline btn-delete-card pull-right" data-index="${e}">\n          <i class="fa fa-times-circle"></i>\n        </span>\n      </div>\n\n      <div class="card-body row">\n        <div class="col-md-12 col-xs-12 mb-3 input-group">\n          <div class="input-group-prepend">\n            <label class="input-group-text">\n              <input type="checkbox" class="mr-2" name="distributionTimeline[${e}][isDisplayDate]">Display date\n            </label>\n          </div>\n\n          <div class="input-group-prepend">\n            <label class="input-group-text">\n              <input type="checkbox" class="mr-2" name="distributionTimeline[${e}][isDisplayTime]">Display time\n            </label>\n          </div>\n\n          <input class="form-control date-time-picker" name="distributionTimeline[${e}][time]" placeholder="Date time" required>\n\n          <select class="form-control select-timezone" name="distributionTimeline[${e}][timezone]">\n          </select>\n        </div>\n\n        <div class="col-md-12 col-xs-12 mb-3">\n          <input class="form-control" type="text" name="distributionTimeline[${e}][title]" placeholder="Title" required>\n        </div>\n\n        <div class="col-md-12 col-xs-12">\n          <input class="form-control" type="text" name="distributionTimeline[${e}][description]" placeholder="Description">\n        </div>\n\n        <div class="col-12 js-allocation-in-distribution-list">\n          <div class="row mt-3 js-allocation-in-distribution" data-event-index="${e}" data-index="0">\n            <div class="col-md-6 col-xs-6">\n              <select class="form-control js-list-allocation-reference" name="distributionTimeline[${e}][allocations][0][ref]">\n                <option value="-1">Select allocation</option>\n              </select>\n            </div>\n\n            <div class="col-md-6 col-xs-6 input-group">\n              <span class="input-group-prepend">\n                <span class="input-group-text">%</span>\n              </span>\n\n              <input type="number" min="0" max="100" step="any" class="form-control" name="distributionTimeline[${e}][allocations][0][percent]" placeholder="Allocation percent">\n\n              <span class="btn-delete-allocation-in-distribution btn-delete-card pull-right mt-2 ml-3" data-event-index="${e}" data-index="0">\n                <i class="fa fa-times-circle"></i>\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div class="col-12 text-center">\n          <button class="mx-auto mt-3 btn btn-default btn-add-allocation-in-distribution" data-event-index="${e}">\n            <i class="fa fa-plus" aria-hidden="true"></i>\n            Add more vesting\n          </button>\n        </div>\n      </div>\n    </div>\n    `)(t)),configDateTimePicker(),configSelectTimezone()}),$(document).on("click",".btn-delete-timeline",function(e){e.preventDefault();const t=$(this).data("index");$(`.timeline-item[data-index="${t}"]`).remove()})},handleLinksList=()=>{if(0===$(".links-list").length)return;$(".btn-add-link").click(function(e){e.preventDefault();const t=$(".link-item").length;console.log(t),$(".links-list").append((e=>`\n    <div class="card card-default link-item mb-4" data-index="${e}">\n      <div class="card-header card-header-item">\n        <span class="btn-delete-link btn-delete-card pull-right" data-index="${e}">\n          <i class="fa fa-times-circle"></i>\n        </span>\n      </div>\n      <div class="card-body row">\n        <div class="col-md-4 col-xs-4">\n          <select class="form-control" name="links[${e}][linkType]">\n            <option value="website">website</option>\n            <option value="white-paper">white-paper</option>\n            <option value="twitter">twitter</option>\n            <option value="telegram">telegram</option>\n            <option value="discord">discord</option>\n            <option value="facebook">facebook</option>\n            <option value="youtube">youtube</option>\n            <option value="linkedin">linkedin</option>\n            <option value="medium">medium</option>\n            <option value="github">github</option>\n            <option value="reddit">reddit</option>\n          </select>\n        </div>\n        <div class="col-md-8 col-xs-8">\n          <input class="form-control" type="text" name="links[${e}][url]" placeholder="https://..." required>\n        </div>\n      </div>\n    </div>\n  `)(t))});$(".timelines-list").on("focus","select.js-list-allocation-reference",function(){const e=Array(...document.getElementsByClassName("js-allocation-title")).map(e=>e.value);$(this).html(`\n      <option value="-1">Select allocation</option>\n      ${e.map((e,t)=>e?`<option value="${t}">${e}</option>`:"")}\n    `)}),$(document).on("click",".btn-add-allocation-in-distribution",function(e){e.preventDefault();const t=$(this).data("event-index"),n=$(`.timeline-item[data-index="${t}"] .js-allocation-in-distribution`).length;$(`.timeline-item[data-index="${t}"] .js-allocation-in-distribution-list`).append(((e,t)=>`\n    <div class="row mt-3 js-allocation-in-distribution" data-event-index="${t}" data-index="${e}">\n      <div class="col-md-6 col-xs-6">\n        <select class="form-control js-list-allocation-reference" name="distributionTimeline[${t}][allocations][${e}][ref]">\n          <option value="-1">Select allocation</option>\n        </select>\n      </div>\n\n      <div class="col-md-6 col-xs-6 input-group">\n        <span class="input-group-prepend">\n          <span class="input-group-text">%</span>\n        </span>\n\n        <input type="number" min="0" max="100" step="any" class="form-control" name="distributionTimeline[${t}][allocations][${e}][percent]" placeholder="Allocation percent">\n\n        <span class="btn-delete-allocation-in-distribution btn-delete-card pull-right mt-2 ml-3" data-event-index="${t}" data-index="${e}">\n          <i class="fa fa-times-circle"></i>\n        </span>\n      </div>\n    </div>\n    `)(n,t))}),$(document).on("click",".btn-delete-allocation-in-distribution",function(e){e.preventDefault();const t=$(this).data("event-index"),n=$(this).data("index");$(`.js-allocation-in-distribution[data-event-index="${t}"][data-index="${n}"]`).remove()}),$(document).on("click",".btn-delete-link",function(e){e.preventDefault();const t=$(this).data("index");$(`.link-item[data-index="${t}"]`).remove()})},handleAllocationsList=()=>{if(0===$(".allocations-list").length)return;$(".btn-add-allocation").click(function(e){e.preventDefault();const t=$(".allocation-item").length;console.log(t),$(".allocations-list").append((e=>`\n    <div class="card card-default allocation-item mb-4" data-index="${e}">\n      <div class="card-header card-header-item">\n        <span class="btn-delete-allocation btn-delete-card pull-right" data-index="${e}">\n          <i class="fa fa-times-circle"></i>\n        </span>\n      </div>\n      <div class="card-body row">\n        <div class="col-md-4 col-xs-4">\n          <input class="form-control" type="number" min="0" max="100" step="any" name="allocations[${e}][percent]" placeholder="%" required>\n        </div>\n        <div class="col-md-8 col-xs-8">\n          <input class="form-control js-allocation-title" type="text" name="allocations[${e}][title]" placeholder="Title" required>\n        </div>\n      </div>\n    </div>\n  `)(t))}),$(document).on("click",".btn-delete-allocation",function(e){e.preventDefault();const t=$(this).data("index");$(`.allocation-item[data-index="${t}"]`).remove()})},handleTGEList=()=>{if(0===$(".tge-list").length)return;$(".btn-add-tge").click(function(e){e.preventDefault();const t=$(".tge-item").length;console.log(t),$(".tge-list").append((e=>`\n    <div class="card card-default tge-item mb-4" data-index="${e}">\n      <div class="card-header card-header-item">\n        <span class="btn-delete-tge btn-delete-card pull-right" data-index="${e}">\n          <i class="fa fa-times-circle"></i>\n        </span>\n      </div>\n      <div class="card-body row">\n        <div class="col-md-6 col-xs-12">\n          <input class="form-control" type="text" name="tgeSummary[${e}][title]" placeholder="Title" required>\n        </div>\n        <div class="col-md-3 col-xs-6">\n          <input class="form-control" type="text" name="tgeSummary[${e}][value]" placeholder="Value" required>\n        </div>\n        <div class="col-md-3 col-xs-6">\n          <select class="form-control" name="tgeSummary[${e}][valueType]">\n            <option value="TEXT">text</option>\n            <option value="NUMBER">number</option>\n            <option value="%">%</option>\n            <option value="USD">$</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  `)(t))}),$(document).on("click",".btn-delete-tge",function(e){e.preventDefault();const t=$(this).data("index");$(`.tge-item[data-index="${t}"]`).remove()})},handleScheduleStartVesting=()=>{if(0===$(".vesting-schedule-start").length)return;$vestingMonth=$('select[name="vestingMonth"]'),$vestingYear=$('input[name="vestingYear"]'),$('input[type="checkbox"][name="monthCountingStart"]').is(":checked")?($vestingMonth.prop("disabled",!1),$vestingYear.prop("disabled",!1)):($vestingMonth.prop("disabled",!0),$vestingYear.prop("disabled",!0)),$('input[type="checkbox"][name="monthCountingStart"]').change(function(){$(this).is(":checked")?($vestingMonth.prop("disabled",!1),$vestingYear.prop("disabled",!1)):($vestingMonth.prop("disabled",!0),$vestingYear.prop("disabled",!0))});const e=(new Date).getMonth()+1,t=(new Date).getFullYear();$vestingMonth.val(e).change(),$vestingYear.val(t);$(".btn-add-schedule").click(function(e){e.preventDefault();const t=$(".schedule-item").length;console.log(t),$(".schedules-list").append((e=>`\n    <div class="card card-default schedule-item mb-4" data-index="${e}">\n      <div class="card-header card-header-item">\n        <span class="btn-delete-schedule btn-delete-card pull-right" data-index="${e}">\n          <i class="fa fa-times-circle"></i>\n        </span>\n      </div>\n      <div class="card-body row">\n        <div class="col-md-6 col-xs-12 mb-3">\n          <input class="form-control" type="text" name="vestingSchedule[${e}][title]" placeholder="Title" required>\n        </div>\n        <div class="col-md-3 col-xs-6 mb-3 input-group">\n          <span class="input-group-prepend">\n            <span class="input-group-text">%</span>\n          </span>\n          <input type="number" min="0" max="100" class="form-control" name="vestingSchedule[${e}][tgeUnlock]" placeholder="TGE unlock">\n        </div>\n        <div class="col-md-3 col-xs-6 mb-3 input-group">\n          <span class="input-group-prepend">\n            <span class="input-group-text">$</span>\n          </span>\n          <input type="number" min="0" step="any" class="form-control" name="vestingSchedule[${e}][tokenPrice]" placeholder="Token price">\n        </div>\n        <div class="col-md-6 col-xs-12">\n          <input class="form-control" type="text" name="vestingSchedule[${e}][description]" placeholder="Description">\n        </div>\n        <div class="col-md-6 col-xs-12 input-group">\n          <input type="number" min="0" step="1" class="form-control" name="vestingSchedule[${e}][cliffMonths]" placeholder="Cliff months">\n          <span class="input-group-prepend">\n            <span class="input-group-text">/</span>\n          </span>\n          <input type="number" min="0" step="1" class="form-control" name="vestingSchedule[${e}][vestingMonths]" placeholder="Vesting months">\n        </div>\n      </div>\n    </div>\n  `)(t))}),$(document).on("click",".btn-delete-schedule",function(e){e.preventDefault();const t=$(this).data("index");$(`.schedule-item[data-index="${t}"]`).remove()})};function onTelegramSendAllChange(){const e=$("#telegram-send-all");if(!e.length)return;const t=$("#telegram-users");e.on("change",function(){t.attr("disabled",e[0].checked),t.attr("required",!e[0].checked)})}$(document).ready(()=>{configColorPicker(),configSelect2(),configCKE(),configDropZone(),toggleShowDropzone(),configDateTimePicker(),editSlug2(),btnConfirmLogout(),btnReqDelete(),validatePasswordForm(),headerActive(),btnSelectImage(),onSearchImages(),fetchImages(),btnSaveChange(),configMultiImages(),validateForm(),alertWhenEditing(),onChangeShop(),$accordion=$(".categories-accordion"),$btnAddCategory=$(".btn-add-category"),0!==$btnAddCategory.length&&0!==$accordion.length&&$btnAddCategory.click(function(e){e.preventDefault(),$.get("/admin/shop-categories/add",function(e){$accordion.find(".collapse").collapse("hide"),$accordion.append(e),$accordion.sortable({handle:".sortable-handle"});const t=$accordion.find(".card:last"),n=t.find("input[name=name]"),i=t.find(".input-colorpicker");n.focus(),i.colorpicker(),"undefined"!=typeof Swal?t.find(".btn-del-category").click(function(e){e.preventDefault(),Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#28a745",confirmButtonText:"Yes, delete it!"}).then(e=>{e.value&&(t.remove(),Swal.fire({title:"Deleted!",text:"Your category has been deleted.",type:"success"}))})}):console.error("Swal not found")})}),handleCategoryAccordion(),onValidateShopForm(),onSubmitShopForm(),permissionCheckboxShowAll(),handleSearchForm(),onToggleYearlyCheckbox(),onTypeShopChange(),onApproveRequestItem(),onRejectRequestItem(),onSwitchUnlimitedRarityItem(),onUploadFile(),configSelectTimezone(),handleTimelinesList(),handleLinksList(),handleAllocationsList(),handleTGEList(),handleScheduleStartVesting(),onTelegramSendAllChange()});