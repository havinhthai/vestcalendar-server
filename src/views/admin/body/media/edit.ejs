<% layout('../../layout/mainBoilerplate') -%>

<% block('title', 'Edit Media') %>

<% block('titleBar', `
  <div class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1 class="m-0 text-dark">Edit Media</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item">
              <a href="/admin">Dashboard</a>
            </li>
            <li class="breadcrumb-item">
              <a href="/admin/media">Media Management</a>
            </li>
            <li class="breadcrumb-item active">Edit Media</li>
          </ol>
        </div>
      </div>
    </div>
  </div>
`) -%>

<form method="POST">
  <input type="hidden" name="_method" value="PUT">

  <div class="row">
    <div class="col-md-8 col-xs-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-md-8">
              <div class="form-group">
                <label>Name*</label>
                <input name="name" class="form-control"
                  placeholder="Enter file's name" value="<%= media.name %>">
              </div>
            </div>

            <div class="col-md-4">
                <div class="form-group">
                  <label>Size</label>
                  <input class="form-control" disabled value="<%= (media.size / 1024).toFixed(2) %> kB">
                </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label>Key Name</label>
                <input class="form-control" disabled value="<%= media.keyName %>">
              </div>
            </div>

            <div class="col-md-3">
              <div class="form-group">
                <label>Created At</label>
                <input class="form-control" disabled value="<%= formatDate(media.createdAt) %>">
              </div>
            </div>

            <div class="col-md-3">
              <div class="form-group">
                <label>Mime Type</label>
                <input class="form-control" disabled value="<%= media.mimeType %>">
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>Location</label>
            <input class="form-control" disabled value="<%= media.location %>">
          </div>
        </div>

        <div class="card-footer clearfix">
          <button class="btn btn-primary">Submit</button>

          <button
            class="btn btn-danger pull-right btn-req-delete"
            type="button"
            data-url="/admin/media/<%= media._id %>"
            data-href-redirect="/admin/media"
            data-type="file"
          >Delete</button>
        </div>
      </div>
    </div>

    <div class="col-md-4 col-xs-12">
      <div class="card">
        <div class="card-body">
            <img src="<%= media.location %>" class="img-fluid rounded">
        </div>
      </div>
    </div>
  </div>
</form>
